<h1>USUARIOS REGISTRADOS</h1>
<div class="users-list">
  <mat-card class="user" *ngFor="let user of users">
    <div class="user-header">
      <img
        mat-card-avatar
        class="profile-photo"
        [src]="get_profile_photo(user)"
      />
      <mat-card-title class="username">
        {{ user?.firstName + ' ' + user?.lastName }}
      </mat-card-title>
    </div>

    <mat-card-content>
      <p><strong>Nombre:</strong> {{ user?.firstName }}</p>
      <p><strong>Apellidos:</strong> {{ user?.lastName }}</p>
      <p><strong>Email:</strong> {{ user?.email }}</p>
      <p><strong>DNI:</strong> {{ user?.dni }}</p>
      <p>
        <strong>Fecha de nacimiento:</strong>
        {{ user?.birthdate | date: 'HH:mm dd/MM/yyyy' }}
      </p>
      <p>
        <strong>Roles:</strong>
        {{
          user?.roles
            .toString()
            .replaceAll('ROLE_CLIENT', 'Cliente')
            .replaceAll('ROLE_DRIVER', 'Conductor')
            .replaceAll(',', ', ')
        }}
      </p>
      <p *ngIf="user?.bannedUntil">
        <strong>Baneado hasta:</strong> {{ user?.bannedUntil | date: 'HH:mm dd/MM/yyyy' }}
      </p>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-stroked-button
        class="button"
        *ngIf="user?.timesBanned >= 3"
        (click)="delete_account(user?.id)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>
